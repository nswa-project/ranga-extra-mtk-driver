<!DOCTYPE html><meta charset=utf-8><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><title>附加驱动</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=referrer content=no-referrer><link href="../webcon/styles/main.css?v=vcs-df8f4f5"rel=stylesheet><link href="../webcon/styles/dialog.css?v=vcs-df8f4f5"rel=stylesheet><style>*{box-sizing:border-box}body{margin:0;background-color:#f4f4f4;font-family:sans-serif;height:100vh;min-height:100vh;max-height:100vh;display:flex;flex-flow:column;align-items:center;justify-content:center}#main{background-color:#fff;width:calc(100vw - 140px);height:calc(100vh - 80px);max-width:1200px;padding:16px}h1{border-bottom:1px solid #dedede;font-size:1.24em}h2{font-size:1.12em;margin:12px 0}@media (max-width:750px){#main{width:100vw;max-width:100vw;height:100vh;box-shadow:none;border:0;border-radius:0}}</style><div id=main class=card><h1>联发科专有无线电驱动程序选择</h1>修改此设置会自动重新启动系统。你需要先在 Web 控制台上登录超级用户。<br><br>专有驱动携带私有代码和 blob。NSWA Ranga 的开发人员无法审计和修改。使用专有驱动的系统是不受信任的，加载驱动程序后任何系统崩溃、无线故障 NSWA Ranga 维护者将不会提供技术支持。<br>很多功能可能不适用于专有驱动。如 WiFi 指示灯将不会被点亮、无法使用 NSWA Ranga 的接口修改 2.4GHz 加密方式（总是 WPA2-PSK CCMP）、RTS 阈值、NSWA Ranga 的部分 WiFi 控制接口将无法作用于 2.4GHz（如列出接入的客户端等功能）。<br><br>RT2860 2.4GHz 无线电专有驱动可以使用 NSWA Ranga 的以下无线配置：覆盖 MAC 地址、预共享密钥的 SSID 和 Key、地区代码、隐藏 SSID、信道（自动/手动）、信道宽度（吞吐量模式）和禁用重叠服务器扫描。其他功能可能不适用于专有驱动。<br>MT7612E 5GHz 无线电专有驱动可以使用 NSWA Ranga 的以下无线配置：覆盖 MAC 地址、预共享密钥的 SSID 和 Key、地区代码、隐藏 SSID、信道（自动/手动）。其他功能可能不适用于专有驱动。（此驱动已经停止维护并被从受支持的列表中删除）<br><br><div class=tips>只会显示受支持的驱动程序。</div><fieldset id=set><legend>选择驱动程序</legend></fieldset><button style=margin-top:12px class=btnFlat id=apply>应用更改</button></div><script src="../webcon/scripts/i18n.js?v=vcs-df8f4f5"></script><script src="../webcon/scripts/utils.js?v=vcs-df8f4f5"></script><script src="../webcon/scripts/ranga.js?v=vcs-df8f4f5"></script><script src="../webcon/scripts/dialog.js?v=vcs-df8f4f5"></script><script>const map={"linux-wireless-only":"来自 Linux Wireless/OpenWrt 等项目的开源驱动（可能经过 NSWA Ranga 修补）","rt2860-mtk-with-any5ghz-linux-wireless":"RT2860 2.4GHz 无线电使用来自 MediaTek 的专有驱动，其他任何 5GHz 芯片组（如果有）使用开源驱动","rt2860-mtk-with-mt7612e-mtk":"RT2860 2.4GHz 和 MT7612E 5GHz 无线电使用来自 MediaTek 的专有驱动（警告：早期实验质量！）"},defErrorHandler=e=>{utils.promiseDebug(e),dialog.simple(utils.isNil(e)?"网络错误或 Web 控制台错误":ranga.errstr(e.code))};let set=document.getElementById("set"),cur="";ranga.api.config("mtk",["cur-mode"]).then(e=>(cur=e.payload,console.log("cur: "+cur),ranga.api.config("mtk",["ls-allowed-modes"]))).then(e=>{e.payload.split("\n").forEach(e=>{console.log(e);let t=e;e in map&&(t=map[e]);let l=document.createElement("div"),n=document.createElement("input");n.type="radio",n.name="driver",n.value=e,e===cur&&(n.checked=!0);let a=document.createElement("label");a.textContent=t,l.appendChild(n),l.appendChild(a),set.appendChild(l)})}).catch(defErrorHandler),document.getElementById("apply").addEventListener("click",e=>{let t=document.querySelector('input[name="driver"]:checked');if(utils.isNil(t))return void dialog.simple("你需要至少选择一项");let l=t.value;console.log(l),ranga.api.config("mtk",["set-mode",l]).then(e=>{dialog.simple("设备即将重新启动，重新启动完成后，将使用新的驱动程序。")}).catch(defErrorHandler)})</script>